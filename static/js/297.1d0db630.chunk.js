"use strict";(self.webpackChunkvoronrent=self.webpackChunkvoronrent||[]).push([[297],{2297:function(e,t,n){n.d(t,{Z:function(){return E}});var i=n(9439),a=n(2791),s="PopUp_backDrop__H7mUI",l="PopUp_modalWindow__brZZq",c="PopUp_close__LVkgz",r="PopUp_popImg__153eC",o="PopUp_popList__f4tC-",d="PopUp_accesFuncLi__Ns2SR",u="PopUp_popLi__tiF4o",p="PopUp_topBox__TfdM1",h="PopUp_topText__mzQdt",m="PopUp_blue__njjUT",x="PopUp_botBox__3LF+7",_="PopUp_botTip__IdUkt",f="PopUp_rentBtn__o70G0",j="PopUp_reservbtn__ExTIW",v="PopUp_btnBox__+fgEa",g=n(1822),b=n(1289),N=n(1413),Z=(n(3452),n(1951)),y=n(1941),C=n(9314),k=n(8935),w=n.n(k),B=n(690),A=n(8272),P=n(9434),T=n(5440),M=n(184);function I(e){var t=e.title,n=e.finish,s=void 0!==n&&n,l=(0,P.I0)(),c=new Date,r=(0,a.useState)(c),o=(0,i.Z)(r,2),d=o[0],u=o[1],p=(0,a.useState)((0,Z.Z)(c,"y-MM-dd")),h=(0,i.Z)(p,2),m=h[0],x=h[1],_=a.useState("00:00"),f=(0,i.Z)(_,2),j=f[0],v=f[1],g=(0,a.useState)(!1),k=(0,i.Z)(g,2),I=k[0],S=k[1],L=(0,a.useRef)(null),U=(0,a.useRef)(null),z=(0,a.useState)(null),D=(0,i.Z)(z,2),F=D[0],W=D[1],R=(0,A.D)(L.current,F,{placement:"bottom-start"});function O(e){var t=new Date(e).getTime();return Math.floor(t/1e3)}var E=function(){var e;S(!1),null===U||void 0===U||null===(e=U.current)||void 0===e||e.focus()};return(0,M.jsxs)("div",{children:[(0,M.jsxs)("div",{className:b.Z.calendar,ref:L,children:[(0,M.jsx)("input",{className:b.Z.priseSelect,style:{border:"1px solid #3470ff"},type:"text",placeholder:(0,Z.Z)(new Date,"y-MM-dd"),value:"".concat(m,": ").concat(j),onChange:function(e){x(e.currentTarget.value);var t=(0,y.Z)(e.currentTarget.value,"y-MM-dd",new Date);(0,C.Z)(t)?u(t):u(void 0)}}),(0,M.jsx)("button",{className:b.Z.timePick,ref:U,type:"button","aria-label":"Pick a date",onClick:function(){S(!0)},children:t})]}),I&&(0,M.jsx)(w(),{active:!0,focusTrapOptions:{initialFocus:!1,allowOutsideClick:!0,clickOutsideDeactivates:!0,fallbackFocus:U.current||void 0},onClickOutside:function(e){L.current&&!L.current.contains(e.target)&&E()},children:(0,M.jsx)("div",(0,N.Z)((0,N.Z)({tabIndex:-1,style:(0,N.Z)((0,N.Z)({},R.styles.popper),{},{background:"white",borderRadius:12}),className:"dialog-sheet"},R.attributes.popper),{},{ref:W,role:"dialog","aria-label":"DayPicker calendar",children:(0,M.jsx)(B._W,{className:b.Z.picker,initialFocus:I,mode:"single",defaultMonth:d,selected:d,disabledDays:{before:c},onSelect:function(e){if(u(e),e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate(),parseInt(j.split(":")[0],10),parseInt(j.split(":")[1],10));if(!0===s)l((0,T.LT)(O(t)));else l((0,T.ke)(O(t)));x((0,Z.Z)(e,"y-MM-dd")),E()}else x("")},footer:(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)("p",{className:b.Z.timer,children:["Pick a time:"," ",(0,M.jsx)("input",{className:b.Z.timerInput,type:"time",value:j,onChange:function(e){var t=e.target.value;v(t)}})]}),(0,M.jsxs)("p",{className:b.Z.timer,children:["Selected date:"," ",d?d.toLocaleString():"none"]})]})})}))})]})}var S=function(e){return(0,M.jsxs)("svg",(0,N.Z)((0,N.Z)({viewBox:"0 0 24 24",fill:"#3470ff",height:"2em",width:"2em"},e),{},{children:[(0,M.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"}),(0,M.jsx)("path",{d:"M8 7v4L2 6l6-5v4h5a8 8 0 110 16H4v-2h9a6 6 0 100-12H8z"})]}))};var L=function(e){return(0,M.jsx)("svg",(0,N.Z)((0,N.Z)({fill:"#3470ff",viewBox:"0 0 16 16",height:"2em",width:"2em"},e),{},{children:(0,M.jsx)("path",{fillRule:"evenodd",d:"M1.885.511a1.745 1.745 0 012.61.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.678.678 0 00.178.643l2.457 2.457a.678.678 0 00.644.178l2.189-.547a1.745 1.745 0 011.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.634 18.634 0 01-7.01-4.42 18.634 18.634 0 01-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.511zM15.854.146a.5.5 0 010 .708L11.707 5H14.5a.5.5 0 010 1h-4a.5.5 0 01-.5-.5v-4a.5.5 0 011 0v2.793L15.146.146a.5.5 0 01.708 0z"})}))};var U=function(e){return(0,M.jsx)("svg",(0,N.Z)((0,N.Z)({viewBox:"0 0 24 24",fill:"#3470ff",height:"2em",width:"2em"},e),{},{children:(0,M.jsx)("path",{d:"M20.665 3.717l-17.73 6.837c-1.21.486-1.203 1.161-.222 1.462l4.552 1.42 10.532-6.645c.498-.303.953-.14.579.192l-8.533 7.701h-.002l.002.001-.314 4.692c.46 0 .663-.211.921-.46l2.211-2.15 4.599 3.397c.848.467 1.457.227 1.668-.785l3.019-14.228c.309-1.239-.473-1.8-1.282-1.434z"})}))};var z=function(e){return(0,M.jsx)("svg",(0,N.Z)((0,N.Z)({fill:"none",viewBox:"0 0 24 24",height:"2em",width:"2em"},e),{},{children:(0,M.jsx)("path",{fill:"#3470ff",fillRule:"evenodd",d:"M3.01 5.838a1 1 0 011-1H20a1 1 0 011 1v11.324a2 2 0 01-2 2H5a2 2 0 01-2-2v-11c0-.048.003-.094.01-.14v-.184zM5 8.062v9.1h14v-9.1l-4.879 4.879a3 3 0 01-4.242 0L5 8.06zm1.572-1.256h10.856l-4.72 4.72a1 1 0 01-1.415 0l-4.72-4.72z",clipRule:"evenodd"})}))};var D=function(e){return(0,M.jsxs)("svg",(0,N.Z)((0,N.Z)({fill:"#3470ff",viewBox:"0 0 16 16",height:"2em",width:"2em"},e),{},{children:[(0,M.jsx)("path",{d:"M5 8a1 1 0 11-2 0 1 1 0 012 0zm4 0a1 1 0 11-2 0 1 1 0 012 0zm3 1a1 1 0 100-2 1 1 0 000 2z"}),(0,M.jsx)("path",{d:"M2.165 15.803l.02-.004c1.83-.363 2.948-.842 3.468-1.105A9.06 9.06 0 008 15c4.418 0 8-3.134 8-7s-3.582-7-8-7-8 3.134-8 7c0 1.76.743 3.37 1.97 4.6a10.437 10.437 0 01-.524 2.318l-.003.011a10.722 10.722 0 01-.244.637c-.079.186.074.394.273.362a21.673 21.673 0 00.693-.125zm.8-3.108a1 1 0 00-.287-.801C1.618 10.83 1 9.468 1 8c0-3.192 3.004-6 7-6s7 2.808 7 6c0 3.193-3.004 6-7 6a8.06 8.06 0 01-2.088-.272 1 1 0 00-.711.074c-.387.196-1.24.57-2.634.893a10.97 10.97 0 00.398-2z"})]}))},F=n(5984),W=n(5264),R=n(5676);function O(e){var t=e.car,n=e.closeFunc,s=(0,P.I0)(),l=(0,a.useState)(null),c=(0,i.Z)(l,2),r=c[0],o=c[1],d=(0,a.useState)(null),u=(0,i.Z)(d,2),p=u[0],h=u[1],m=(0,a.useState)(null),x=(0,i.Z)(m,2),_=x[0],f=x[1],j=(0,P.v9)((function(e){return e.car.startTime})),v=(0,P.v9)((function(e){return e.car.finishTime})),g=(0,F.x0)();function N(e){return new Date(1e3*e).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}return(0,M.jsxs)("div",{className:b.Z.calendarBox,children:[(0,M.jsx)("input",{required:!0,className:b.Z.calendarInput,onChange:function(e){return o(e.target.value)},placeholder:"Name",type:"text"}),(0,M.jsxs)("div",{style:{width:"100%",position:"relative",display:"flex",justifyContent:"center",alignItems:"center"},children:[p?(0,M.jsx)("input",{required:!0,className:b.Z.calendarInput,placeholder:"Way to contact",onChange:function(e){f(e.target.value)},type:"text"}):(0,M.jsxs)("div",{className:b.Z.wayBtnBox,children:[(0,M.jsx)("button",{className:b.Z.wayButton,onClick:function(){h("Phone")},children:(0,M.jsx)(L,{})}),(0,M.jsx)("button",{className:b.Z.wayButton,onClick:function(){h("Telegram")},children:(0,M.jsx)(U,{})}),(0,M.jsx)("button",{className:b.Z.wayButton,onClick:function(){h("Email")},children:(0,M.jsx)(z,{})}),(0,M.jsx)("button",{className:b.Z.wayButton,onClick:function(){h("Other chat")},children:(0,M.jsx)(D,{})})]}),p&&(0,M.jsx)("button",{className:b.Z.backButton,onClick:function(){h(null),f(null)},children:(0,M.jsx)(S,{})})]}),(0,M.jsxs)("div",{className:b.Z.calendarTumb,children:[(0,M.jsx)(I,{title:"Choose a start time"}),(0,M.jsx)(I,{title:"Choose a finish time",finish:!0})]}),(0,M.jsx)("h2",{className:b.Z.orderTitle,children:"Order for rent"}),(0,M.jsx)("div",{style:{width:"100%"},children:(0,M.jsx)("table",{className:b.Z.table,children:(0,M.jsxs)("tbody",{className:b.Z.infoTable,children:[(0,M.jsxs)("tr",{children:[(0,M.jsx)("td",{children:"Name:"}),(0,M.jsx)("td",{children:r})]}),(0,M.jsxs)("tr",{children:[(0,M.jsx)("td",{children:p||"Call me"}),(0,M.jsx)("td",{children:_})]}),(0,M.jsxs)("tr",{children:[(0,M.jsx)("td",{children:"Car:"}),(0,M.jsxs)("td",{children:[t.make,", ",t.model]})]}),(0,M.jsxs)("tr",{children:[(0,M.jsx)("td",{children:"Order \u2116:"}),(0,M.jsx)("td",{children:g})]}),(0,M.jsxs)("tr",{children:[(0,M.jsx)("td",{children:"Price:"}),(0,M.jsxs)("td",{children:[t.rentalPrice," dollars per hour"]})]}),(0,M.jsxs)("tr",{children:[(0,M.jsx)("td",{children:"Start time:"}),(0,M.jsx)("td",{children:N(j)})]}),(0,M.jsxs)("tr",{children:[(0,M.jsx)("td",{children:"Finish time:"}),(0,M.jsx)("td",{children:N(v)})]}),(0,M.jsxs)("tr",{children:[(0,M.jsx)("td",{children:"Total price:"}),(0,M.jsxs)("td",{children:[t.rentalPrice*function(e,t){var n=(1e3*t-1e3*e)/36e5;return Math.round(n)}(j,v),"$"]})]})]})})}),(0,M.jsx)("button",{className:b.Z.timePick,onClick:function(){if(r&&p&&_&&j&&j<v){var e={orderNumber:"".concat(g),client:r,contact:"".concat(p,": ").concat(_),startTime:j,finishTime:v,carId:t._id};s((0,R.fS)(e)),console.log("\ud83d\ude80 ~ file: OrderWindow.jsx:39 ~ handleConfirm ~ order:",e),n()}else r?_?j?j<v||W.Notify.failure("Chose the correct time to finish the rent"):W.Notify.failure("Chose the correct time to start the rent"):W.Notify.failure("Chose the way to conect you and leav contact"):W.Notify.failure("Write your name")},children:"Confirm"})]})}var E=function(e){var t=e.car,n=e.closeFunc,b=(0,a.useState)(!1),N=(0,i.Z)(b,2),Z=N[0],y=N[1],C=(0,P.v9)((function(e){return e.car.isloggedIn}));(0,a.useEffect)((function(){var e=function(e){"Escape"===e.key&&n()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[n]);var k,w=function(e){return e.split(",").slice(1)},B=function(e){var t=e.match(/Minimum age: (\d+)\s+Valid driver's license\s+(.*)/);return t?{minimumAge:parseInt(t[1],10),additionalConditions:t[2].trim()}:null}(t.rentalConditions),A=B.minimumAge,T=B.additionalConditions;return(0,M.jsx)("div",{className:s,onClick:function(e){e.target===e.currentTarget&&n()},children:Z?(0,M.jsxs)("div",{className:l,children:[(0,M.jsx)("button",{onClick:n,type:"button",className:c,children:(0,M.jsx)(g.Z,{})}),(0,M.jsx)(O,{car:t,closeFunc:n})]}):(0,M.jsxs)("div",{className:l,children:[(0,M.jsx)("button",{onClick:n,type:"button",className:c,children:(0,M.jsx)(g.Z,{})}),(0,M.jsx)("img",{className:r,src:t.img,alt:t.description}),(0,M.jsx)("div",{className:p,children:(0,M.jsxs)("p",{className:h,children:[t.make,", ",(0,M.jsx)("span",{className:m,children:t.model}),",",t.year]})}),(0,M.jsxs)("div",{className:x,children:[(0,M.jsx)("p",{className:_,children:w(t.address)[0]}),(0,M.jsx)("p",{className:_,children:w(t.address)[1]}),(0,M.jsx)("p",{className:_,children:t.rentalCompany}),(0,M.jsx)("p",{className:_,children:t.accessories[0]}),(0,M.jsx)("p",{className:_,children:t.model}),(0,M.jsx)("p",{className:_,children:t.id}),(0,M.jsx)("p",{className:_,children:t.functionalities[0]})]}),(0,M.jsx)("p",{className:o,children:t.description}),(0,M.jsxs)("ul",{className:o,children:[(0,M.jsx)("span",{style:{width:"100%"},children:"Accessories and functionalities:"}),t.accessories.map((function(e,t){return(0,M.jsx)("li",{className:d,children:e},t)})),t.functionalities.map((function(e,t){return(0,M.jsx)("li",{className:d,children:e},t)}))]}),(0,M.jsxs)("ul",{className:o,children:[(0,M.jsx)("span",{style:{width:"100%"},children:"Rental Conditions:"}),(0,M.jsxs)("li",{className:u,children:["Minimum age :"," ",(0,M.jsx)("span",{style:{color:"#3470ff",fontWeight:"bold"},children:A})]}),(0,M.jsx)("li",{className:u,children:"Valid driver\u2019s license"}),(0,M.jsx)("li",{className:u,children:T}),(0,M.jsxs)("li",{className:u,children:["Mileage:",(0,M.jsx)("span",{style:{color:"#3470ff",fontWeight:"bold"},children:(k=t.mileage,k.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))})]}),(0,M.jsxs)("li",{className:u,children:["Prise:",(0,M.jsx)("span",{style:{color:"#3470ff",fontWeight:"bold"},children:t.rentalPrice})]})]}),(0,M.jsxs)("div",{className:v,children:[(0,M.jsx)("a",{className:f,href:"tel:+380730000000",onClick:function(){console.log("Calling the car rental company...")},children:"Rental car"}),C&&(0,M.jsx)("button",{className:j,type:"button",onClick:function(){y(!0)},children:"Reserve car"})]})]})})}},1822:function(e,t,n){var i=n(1413),a=(n(2791),n(184));t.Z=function(e){return(0,a.jsxs)("svg",(0,i.Z)((0,i.Z)({viewBox:"0 0 1024 1024",fill:"currentColor",height:"2em",width:"2em"},e),{},{children:[(0,a.jsx)("path",{d:"M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z"}),(0,a.jsx)("path",{d:"M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"})]}))}},1289:function(e,t){t.Z={backGround:"App_backGround__O2CQa",title:"App_title__Xrt9W",catalogList:"App_catalogList__4jUkg",carCard:"App_carCard__U9KHI",heart:"App_heart__ni0rx",itemImg:"App_itemImg__-Wo1p",topBox:"App_topBox__rjyou",topText:"App_topText__+2SqK",blue:"App_blue__xrLSR",botBox:"App_botBox__exPCR",botTip:"App_botTip__xOuwE",rentBtn:"App_rentBtn__vAzXK",calendarBox:"App_calendarBox__vVUS0",calendarInput:"App_calendarInput__40yiG",wayBtnBox:"App_wayBtnBox__ryXWb",wayButton:"App_wayButton__mnqSl",backButton:"App_backButton__3eKtI",calendarTumb:"App_calendarTumb__CIqk9",calendar:"App_calendar__FO2tA",timePick:"App_timePick__P5Z8p",timer:"App_timer__2SxZ1",timerInput:"App_timerInput__gS6Yc",table:"App_table__d7U54",infoTable:"App_infoTable__4-iyw",ordDelete:"App_ordDelete__dAT6F",iconDelete:"App_iconDelete__jxMFW"}}}]);
//# sourceMappingURL=297.1d0db630.chunk.js.map