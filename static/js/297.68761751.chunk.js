"use strict";(self.webpackChunkvoronrent=self.webpackChunkvoronrent||[]).push([[297],{2297:function(e,t,n){n.d(t,{Z:function(){return E}});var i=n(9439),a=n(2791),s="PopUp_backDrop__H7mUI",l="PopUp_modalWindow__brZZq",c="PopUp_close__LVkgz",r="PopUp_popImg__153eC",o="PopUp_popList__f4tC-",d="PopUp_accesFuncLi__Ns2SR",p="PopUp_popLi__tiF4o",u="PopUp_topBox__TfdM1",h="PopUp_topText__mzQdt",m="PopUp_blue__njjUT",x="PopUp_botBox__3LF+7",_="PopUp_botTip__IdUkt",f="PopUp_rentBtn__o70G0",j="PopUp_reservbtn__ExTIW",v="PopUp_btnBox__+fgEa",g=n(1822),b=n(1289),Z=n(1413),N=(n(3452),n(1951)),y=n(1941),k=n(9314),C=n(8935),w=n.n(C),B=n(690),A=n(8272),L=n(9434),P=n(5440),T=n(184);function I(e){var t=e.title,n=e.finish,s=void 0!==n&&n,l=(0,L.I0)(),c=new Date,r=(0,a.useState)(c),o=(0,i.Z)(r,2),d=o[0],p=o[1],u=(0,a.useState)((0,N.Z)(c,"y-MM-dd")),h=(0,i.Z)(u,2),m=h[0],x=h[1],_=a.useState("00:00"),f=(0,i.Z)(_,2),j=f[0],v=f[1],g=(0,a.useState)(!1),C=(0,i.Z)(g,2),I=C[0],M=C[1],S=(0,a.useRef)(null),U=(0,a.useRef)(null),z=(0,a.useState)(null),F=(0,i.Z)(z,2),D=F[0],W=F[1],O=(0,A.D)(S.current,D,{placement:"bottom-start"});function R(e){var t=new Date(e).getTime();return Math.floor(t/1e3)}var E=function(){var e;M(!1),null===U||void 0===U||null===(e=U.current)||void 0===e||e.focus()};return(0,T.jsxs)("div",{children:[(0,T.jsxs)("div",{className:b.Z.calendar,ref:S,children:[(0,T.jsx)("input",{className:b.Z.priseSelect,style:{border:"1px solid #3470ff"},type:"text",placeholder:(0,N.Z)(new Date,"y-MM-dd"),value:"".concat(m,": ").concat(j),onChange:function(e){x(e.currentTarget.value);var t=(0,y.Z)(e.currentTarget.value,"y-MM-dd",new Date);(0,k.Z)(t)?p(t):p(void 0)}}),(0,T.jsx)("button",{className:b.Z.timePick,ref:U,type:"button","aria-label":"Pick a date",onClick:function(){M(!0)},children:t})]}),I&&(0,T.jsx)(w(),{active:!0,focusTrapOptions:{initialFocus:!1,allowOutsideClick:!0,clickOutsideDeactivates:!0,fallbackFocus:U.current||void 0},onClickOutside:function(e){S.current&&!S.current.contains(e.target)&&E()},children:(0,T.jsx)("div",(0,Z.Z)((0,Z.Z)({tabIndex:-1,style:(0,Z.Z)((0,Z.Z)({},O.styles.popper),{},{background:"white",borderRadius:12}),className:"dialog-sheet"},O.attributes.popper),{},{ref:W,role:"dialog","aria-label":"DayPicker calendar",children:(0,T.jsx)(B._W,{className:b.Z.picker,initialFocus:I,mode:"single",defaultMonth:d,selected:d,disabledDays:{before:c},onSelect:function(e){if(p(e),e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate(),parseInt(j.split(":")[0],10),parseInt(j.split(":")[1],10));if(!0===s)l((0,P.LT)(R(t)));else l((0,P.ke)(R(t)));x((0,N.Z)(e,"y-MM-dd")),E()}else x("")},footer:(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)("p",{className:b.Z.timer,children:["Pick a time:"," ",(0,T.jsx)("input",{className:b.Z.timerInput,type:"time",value:j,onChange:function(e){var t=e.target.value;v(t)}})]}),(0,T.jsxs)("p",{className:b.Z.timer,children:["Selected date:"," ",d?d.toLocaleString():"none"]})]})})}))})]})}var M=function(e){return(0,T.jsxs)("svg",(0,Z.Z)((0,Z.Z)({viewBox:"0 0 24 24",fill:"#3470ff",height:"2em",width:"2em"},e),{},{children:[(0,T.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"}),(0,T.jsx)("path",{d:"M8 7v4L2 6l6-5v4h5a8 8 0 110 16H4v-2h9a6 6 0 100-12H8z"})]}))};var S=function(e){return(0,T.jsx)("svg",(0,Z.Z)((0,Z.Z)({fill:"#3470ff",viewBox:"0 0 16 16",height:"2em",width:"2em"},e),{},{children:(0,T.jsx)("path",{fillRule:"evenodd",d:"M1.885.511a1.745 1.745 0 012.61.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.678.678 0 00.178.643l2.457 2.457a.678.678 0 00.644.178l2.189-.547a1.745 1.745 0 011.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.634 18.634 0 01-7.01-4.42 18.634 18.634 0 01-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.511zM15.854.146a.5.5 0 010 .708L11.707 5H14.5a.5.5 0 010 1h-4a.5.5 0 01-.5-.5v-4a.5.5 0 011 0v2.793L15.146.146a.5.5 0 01.708 0z"})}))};var U=function(e){return(0,T.jsx)("svg",(0,Z.Z)((0,Z.Z)({viewBox:"0 0 24 24",fill:"#3470ff",height:"2em",width:"2em"},e),{},{children:(0,T.jsx)("path",{d:"M20.665 3.717l-17.73 6.837c-1.21.486-1.203 1.161-.222 1.462l4.552 1.42 10.532-6.645c.498-.303.953-.14.579.192l-8.533 7.701h-.002l.002.001-.314 4.692c.46 0 .663-.211.921-.46l2.211-2.15 4.599 3.397c.848.467 1.457.227 1.668-.785l3.019-14.228c.309-1.239-.473-1.8-1.282-1.434z"})}))};var z=function(e){return(0,T.jsx)("svg",(0,Z.Z)((0,Z.Z)({fill:"none",viewBox:"0 0 24 24",height:"2em",width:"2em"},e),{},{children:(0,T.jsx)("path",{fill:"#3470ff",fillRule:"evenodd",d:"M3.01 5.838a1 1 0 011-1H20a1 1 0 011 1v11.324a2 2 0 01-2 2H5a2 2 0 01-2-2v-11c0-.048.003-.094.01-.14v-.184zM5 8.062v9.1h14v-9.1l-4.879 4.879a3 3 0 01-4.242 0L5 8.06zm1.572-1.256h10.856l-4.72 4.72a1 1 0 01-1.415 0l-4.72-4.72z",clipRule:"evenodd"})}))};var F=function(e){return(0,T.jsxs)("svg",(0,Z.Z)((0,Z.Z)({fill:"#3470ff",viewBox:"0 0 16 16",height:"2em",width:"2em"},e),{},{children:[(0,T.jsx)("path",{d:"M5 8a1 1 0 11-2 0 1 1 0 012 0zm4 0a1 1 0 11-2 0 1 1 0 012 0zm3 1a1 1 0 100-2 1 1 0 000 2z"}),(0,T.jsx)("path",{d:"M2.165 15.803l.02-.004c1.83-.363 2.948-.842 3.468-1.105A9.06 9.06 0 008 15c4.418 0 8-3.134 8-7s-3.582-7-8-7-8 3.134-8 7c0 1.76.743 3.37 1.97 4.6a10.437 10.437 0 01-.524 2.318l-.003.011a10.722 10.722 0 01-.244.637c-.079.186.074.394.273.362a21.673 21.673 0 00.693-.125zm.8-3.108a1 1 0 00-.287-.801C1.618 10.83 1 9.468 1 8c0-3.192 3.004-6 7-6s7 2.808 7 6c0 3.193-3.004 6-7 6a8.06 8.06 0 01-2.088-.272 1 1 0 00-.711.074c-.387.196-1.24.57-2.634.893a10.97 10.97 0 00.398-2z"})]}))},D=n(5984),W=n(5264),O=n(5676);function R(e){var t=e.car,n=e.closeFunc,s=(0,L.I0)(),l=(0,a.useState)(null),c=(0,i.Z)(l,2),r=c[0],o=c[1],d=(0,a.useState)(null),p=(0,i.Z)(d,2),u=p[0],h=p[1],m=(0,a.useState)(null),x=(0,i.Z)(m,2),_=x[0],f=x[1],j=(0,L.v9)((function(e){return e.car.startTime})),v=(0,L.v9)((function(e){return e.car.finishTime})),g=(0,D.x0)();function Z(e){return new Date(1e3*e).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}return(0,T.jsxs)("div",{className:b.Z.calendarBox,children:[(0,T.jsx)("input",{required:!0,className:b.Z.calendarInput,onChange:function(e){return o(e.target.value)},placeholder:"Name",type:"text"}),(0,T.jsxs)("div",{style:{width:"100%",position:"relative",display:"flex",justifyContent:"center",alignItems:"center"},children:[u?(0,T.jsx)("input",{required:!0,className:b.Z.calendarInput,placeholder:"Way to contact",onChange:function(e){f(e.target.value)},type:"text"}):(0,T.jsxs)("div",{className:b.Z.wayBtnBox,children:[(0,T.jsx)("button",{className:b.Z.wayButton,onClick:function(){h("Phone")},children:(0,T.jsx)(S,{})}),(0,T.jsx)("button",{className:b.Z.wayButton,onClick:function(){h("Telegram")},children:(0,T.jsx)(U,{})}),(0,T.jsx)("button",{className:b.Z.wayButton,onClick:function(){h("Email")},children:(0,T.jsx)(z,{})}),(0,T.jsx)("button",{className:b.Z.wayButton,onClick:function(){h("Other chat")},children:(0,T.jsx)(F,{})})]}),u&&(0,T.jsx)("button",{className:b.Z.backButton,onClick:function(){h(null),f(null)},children:(0,T.jsx)(M,{})})]}),(0,T.jsxs)("div",{className:b.Z.calendarTumb,children:[(0,T.jsx)(I,{title:"Choose a start time"}),(0,T.jsx)(I,{title:"Choose a finish time",finish:!0})]}),(0,T.jsx)("h2",{className:b.Z.orderTitle,children:"Order for rent"}),(0,T.jsx)("div",{style:{width:"100%"},children:(0,T.jsx)("table",{className:b.Z.table,children:(0,T.jsxs)("tbody",{className:b.Z.infoTable,children:[(0,T.jsxs)("tr",{children:[(0,T.jsx)("td",{children:"Name:"}),(0,T.jsx)("td",{children:r})]}),(0,T.jsxs)("tr",{children:[(0,T.jsx)("td",{children:u||"Call me"}),(0,T.jsx)("td",{children:_})]}),(0,T.jsxs)("tr",{children:[(0,T.jsx)("td",{children:"Car:"}),(0,T.jsxs)("td",{children:[t.make,", ",t.model]})]}),(0,T.jsxs)("tr",{children:[(0,T.jsx)("td",{children:"Order \u2116:"}),(0,T.jsx)("td",{children:g})]}),(0,T.jsxs)("tr",{children:[(0,T.jsx)("td",{children:"Price:"}),(0,T.jsxs)("td",{children:[t.rentalPrice," dollars per hour"]})]}),(0,T.jsxs)("tr",{children:[(0,T.jsx)("td",{children:"Start time:"}),(0,T.jsx)("td",{children:Z(j)})]}),(0,T.jsxs)("tr",{children:[(0,T.jsx)("td",{children:"Finish time:"}),(0,T.jsx)("td",{children:Z(v)})]}),(0,T.jsxs)("tr",{children:[(0,T.jsx)("td",{children:"Total price:"}),(0,T.jsxs)("td",{children:[t.rentalPrice*function(e,t){var n=(1e3*t-1e3*e)/36e5;return Math.round(n)}(j,v),"$"]})]})]})})}),(0,T.jsx)("button",{className:b.Z.timePick,onClick:function(){if(r&&u&&_&&j&&j<v){var e={orderNumber:g,client:r,conect:"".concat(u,": ").concat(_),startTime:j,finishTime:v,carId:t._id};s((0,O.fS)(e)),console.log("\ud83d\ude80 ~ file: OrderWindow.jsx:39 ~ handleConfirm ~ order:",e),n()}else r?_?j?j<v||W.Notify.failure("Chose the correct time to finish the rent"):W.Notify.failure("Chose the correct time to start the rent"):W.Notify.failure("Chose the way to conect you and leav contact"):W.Notify.failure("Write your name")},children:"Confirm"})]})}var E=function(e){var t=e.car,n=e.closeFunc,b=(0,a.useState)(!1),Z=(0,i.Z)(b,2),N=Z[0],y=Z[1],k=(0,L.v9)((function(e){return e.car.isloggedIn}));(0,a.useEffect)((function(){var e=function(e){"Escape"===e.key&&n()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[n]);var C,w=function(e){return e.split(",").slice(1)},B=function(e){var t=e.match(/Minimum age: (\d+)\s+Valid driver's license\s+(.*)/);return t?{minimumAge:parseInt(t[1],10),additionalConditions:t[2].trim()}:null}(t.rentalConditions),A=B.minimumAge,P=B.additionalConditions;return(0,T.jsx)("div",{className:s,onClick:function(e){e.target===e.currentTarget&&n()},children:N?(0,T.jsxs)("div",{className:l,children:[(0,T.jsx)("button",{onClick:n,type:"button",className:c,children:(0,T.jsx)(g.Z,{})}),(0,T.jsx)(R,{car:t,closeFunc:n})]}):(0,T.jsxs)("div",{className:l,children:[(0,T.jsx)("button",{onClick:n,type:"button",className:c,children:(0,T.jsx)(g.Z,{})}),(0,T.jsx)("img",{className:r,src:t.img,alt:t.description}),(0,T.jsx)("div",{className:u,children:(0,T.jsxs)("p",{className:h,children:[t.make,", ",(0,T.jsx)("span",{className:m,children:t.model}),",",t.year]})}),(0,T.jsxs)("div",{className:x,children:[(0,T.jsx)("p",{className:_,children:w(t.address)[0]}),(0,T.jsx)("p",{className:_,children:w(t.address)[1]}),(0,T.jsx)("p",{className:_,children:t.rentalCompany}),(0,T.jsx)("p",{className:_,children:t.accessories[0]}),(0,T.jsx)("p",{className:_,children:t.model}),(0,T.jsx)("p",{className:_,children:t.id}),(0,T.jsx)("p",{className:_,children:t.functionalities[0]})]}),(0,T.jsx)("p",{className:o,children:t.description}),(0,T.jsxs)("ul",{className:o,children:[(0,T.jsx)("span",{style:{width:"100%"},children:"Accessories and functionalities:"}),t.accessories.map((function(e,t){return(0,T.jsx)("li",{className:d,children:e},t)})),t.functionalities.map((function(e,t){return(0,T.jsx)("li",{className:d,children:e},t)}))]}),(0,T.jsxs)("ul",{className:o,children:[(0,T.jsx)("span",{style:{width:"100%"},children:"Rental Conditions:"}),(0,T.jsxs)("li",{className:p,children:["Minimum age :"," ",(0,T.jsx)("span",{style:{color:"#3470ff",fontWeight:"bold"},children:A})]}),(0,T.jsx)("li",{className:p,children:"Valid driver\u2019s license"}),(0,T.jsx)("li",{className:p,children:P}),(0,T.jsxs)("li",{className:p,children:["Mileage:",(0,T.jsx)("span",{style:{color:"#3470ff",fontWeight:"bold"},children:(C=t.mileage,C.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))})]}),(0,T.jsxs)("li",{className:p,children:["Prise:",(0,T.jsx)("span",{style:{color:"#3470ff",fontWeight:"bold"},children:t.rentalPrice})]})]}),(0,T.jsxs)("div",{className:v,children:[(0,T.jsx)("a",{className:f,href:"tel:+380730000000",onClick:function(){console.log("Calling the car rental company...")},children:"Rental car"}),k&&(0,T.jsx)("button",{className:j,type:"button",onClick:function(){y(!0)},children:"Reserve car"})]})]})})}},1822:function(e,t,n){var i=n(1413),a=(n(2791),n(184));t.Z=function(e){return(0,a.jsxs)("svg",(0,i.Z)((0,i.Z)({viewBox:"0 0 1024 1024",fill:"currentColor",height:"2em",width:"2em"},e),{},{children:[(0,a.jsx)("path",{d:"M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z"}),(0,a.jsx)("path",{d:"M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"})]}))}},1289:function(e,t){t.Z={backGround:"App_backGround__O2CQa",title:"App_title__Xrt9W",catalogList:"App_catalogList__4jUkg",carCard:"App_carCard__U9KHI",heart:"App_heart__ni0rx",itemImg:"App_itemImg__-Wo1p",topBox:"App_topBox__rjyou",topText:"App_topText__+2SqK",blue:"App_blue__xrLSR",botBox:"App_botBox__exPCR",botTip:"App_botTip__xOuwE",rentBtn:"App_rentBtn__vAzXK",backDrop:"App_backDrop__ac-cX",modalWindow:"App_modalWindow__bkoBB",close:"App_close__15lSc",popImg:"App_popImg__lZsOc",popList:"App_popList__ijFe-",accesFuncLi:"App_accesFuncLi__fT6JS",popLi:"App_popLi__LgiuJ",calendarBox:"App_calendarBox__vVUS0",calendarInput:"App_calendarInput__40yiG",wayBtnBox:"App_wayBtnBox__ryXWb",wayButton:"App_wayButton__mnqSl",backButton:"App_backButton__3eKtI",calendarTumb:"App_calendarTumb__CIqk9",calendar:"App_calendar__FO2tA",timePick:"App_timePick__P5Z8p",timer:"App_timer__2SxZ1",timerInput:"App_timerInput__gS6Yc",table:"App_table__d7U54",infoTable:"App_infoTable__4-iyw"}}}]);
//# sourceMappingURL=297.68761751.chunk.js.map